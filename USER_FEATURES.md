# 云边奶茶铺 AI 智能助手 - 用户功能说明

## 用户视角的功能描述

### 一、产品咨询功能

用户可以询问关于奶茶产品的各种问题：

**功能示例**：
- ✅ "云边茉莉的特点是什么？"
- ✅ "桂花云露的价格是多少？"
- ✅ "有哪些奶茶产品？"
- ✅ "推荐一款奶茶"
- ✅ "这个产品适合什么人群？"
- ✅ "产品有什么优惠活动吗？"

**技术实现**：
- 基于 RAG 检索增强生成，从知识库中检索相关信息
- 支持自然语言问答，无需记忆特定命令
- 回答准确、专业，基于真实的产品文档

---

### 二、订单管理功能

用户可以完成完整的订单操作：

#### 2.1 创建订单（下单）

**功能示例**：
- ✅ "我要下单，一杯云边茉莉，少糖，正常冰"
- ✅ "来一杯桂花云露，微糖，去冰，2杯"
- ✅ "点一杯云雾观音，标准糖，热饮，备注：不要珍珠"

**支持的参数**：
- 产品名称：云边茉莉、桂花云露、云雾观音等
- 甜度：无糖、微糖、半糖、少糖、标准糖
- 冰量：热、温、去冰、少冰、正常冰
- 数量：支持多杯
- 备注：特殊要求

**用户体验**：
- 自然语言下单，无需填写复杂表单
- 系统自动识别产品、甜度、冰量等参数
- 自动计算价格
- 下单成功后返回订单详情（订单ID、价格、创建时间等）

#### 2.2 查询订单

**功能示例**：
- ✅ "我想查询我的历史订单"
- ✅ "查询订单号 ORDER_xxx 的详情"
- ✅ "查看我最近的订单"

**返回信息**：
- 订单ID
- 产品名称
- 甜度、冰量、数量
- 价格（单价、总价）
- 创建时间
- 订单状态

#### 2.3 修改订单

**功能示例**：
- ✅ "修改订单 ORDER_xxx 的备注为：不要珍珠"
- ✅ "更新订单备注"

#### 2.4 取消订单

**功能示例**：
- ✅ "取消订单 ORDER_xxx"
- ✅ "删除我的订单"

**安全机制**：
- 只能操作自己的订单
- 系统自动验证用户身份

---

### 三、用户反馈功能

用户可以提交反馈和投诉：

**功能示例**：
- ✅ "我要反馈一个问题"
- ✅ "投诉：服务态度不好"
- ✅ "建议：希望增加新口味"
- ✅ "对产品不满意"

**处理流程**：
- 系统接收用户反馈
- 自动分类（投诉/建议/咨询）
- 记录反馈内容和时间

---

### 四、智能对话功能

#### 4.1 自然语言交互

**特点**：
- ✅ 支持自然语言对话，无需记忆命令
- ✅ 理解上下文，支持多轮对话
- ✅ 智能识别用户意图，自动路由到合适的服务

**示例对话**：
```
用户: "有什么好喝的推荐吗？"
助手: "我推荐云边茉莉，口感清香，价格实惠..."

用户: "那来一杯，少糖"
助手: "好的，您要的是云边茉莉，少糖，正常冰，1杯，总价 ¥18.00，确认下单吗？"

用户: "确认"
助手: "订单创建成功！订单ID: ORDER_xxx..."
```

#### 4.2 上下文理解

**特点**：
- ✅ 记住对话历史
- ✅ 理解指代关系（"这个"、"那个"）
- ✅ 支持省略式表达（"来一杯"、"再来一个"）

**示例**：
```
用户: "云边茉莉多少钱？"
助手: "云边茉莉的价格是 ¥18.00"

用户: "那来一杯"  ← 系统知道"那"指的是云边茉莉
助手: "好的，为您创建订单..."
```

#### 4.3 错误处理和友好提示

**特点**：
- ✅ 参数不完整时，会询问缺失信息
- ✅ 产品不存在时，会提示并推荐类似产品
- ✅ 服务不可用时，会给出友好提示

**示例**：
```
用户: "我要一杯奶茶"
助手: "请问您要哪款产品呢？我们有云边茉莉、桂花云露、云雾观音等"

用户: "我要一杯不存在的产品"
助手: "抱歉，我们没有这个产品。推荐您试试云边茉莉，口感清香..."
```

---

### 五、知识库问答

用户可以询问关于品牌、产品、活动等各类问题：

**功能示例**：
- ✅ "云边奶茶铺的品牌故事是什么？"
- ✅ "有哪些门店？"
- ✅ "产品是怎么制作的？"
- ✅ "有什么优惠活动？"
- ✅ "如何冲泡？"

**特点**：
- 基于知识库检索，回答准确、专业
- 支持复杂问题，系统会自动检索相关文档
- 回答内容来自官方文档，保证准确性

---

## 完整用户使用流程示例

### 场景 1：新用户咨询并下单

```
用户: "你好，我想了解一下你们的产品"
助手: "您好！欢迎来到云边奶茶铺。我们有多款经典产品：
       - 云边茉莉：清香淡雅，¥18.00
       - 桂花云露：香甜醇厚，¥22.00
       - 云雾观音：茶香浓郁，¥25.00
       您想了解哪一款呢？"

用户: "云边茉莉有什么特点？"
助手: "云边茉莉是我们的人气产品，特点包括：
       - 选用优质茉莉花茶，清香淡雅
       - 口感清爽，适合喜欢淡口味的顾客
       - 价格实惠，性价比高
       您要来一杯试试吗？"

用户: "好的，来一杯，少糖，正常冰"
助手: "好的，为您创建订单：
       - 产品：云边茉莉
       - 甜度：少糖
       - 冰量：正常冰
       - 数量：1杯
       - 总价：¥18.00
       
       订单创建成功！订单ID: ORDER_1693654321000
       感谢您的订购！"
```

### 场景 2：老用户查询历史订单

```
用户: "我想看看我之前的订单"
助手: "您有以下历史订单：
       
       1. 订单ID: ORDER_1693654321000
          产品: 云边茉莉
          数量: 1杯
          价格: ¥18.00
          创建时间: 2025-01-15 10:30:00
          状态: 已完成
       
       2. 订单ID: ORDER_1693567921000
          产品: 桂花云露
          数量: 2杯
          价格: ¥44.00
          创建时间: 2025-01-14 15:20:00
          状态: 已完成
       
       共 2 个订单，总消费 ¥62.00"
```

### 场景 3：用户反馈

```
用户: "我要反馈一个问题"
助手: "好的，请告诉我您遇到的问题或建议"

用户: "希望增加无糖选项"
助手: "感谢您的建议！我们已经记录了您的反馈：
       - 反馈类型：产品建议
       - 内容：希望增加无糖选项
       - 时间：2025-01-15 11:00:00
       
       我们会认真考虑您的建议，感谢您的支持！"
```

---

## 用户功能总结

### ✅ 已实现功能

1. **产品咨询**
   - 产品介绍和特点
   - 价格查询
   - 产品推荐
   - 基于知识库的专业问答

2. **订单管理**
   - 自然语言下单（支持产品、甜度、冰量、数量、备注）
   - 查询历史订单
   - 查询订单详情
   - 修改订单备注
   - 取消订单

3. **用户反馈**
   - 提交反馈和投诉
   - 提出建议

4. **智能对话**
   - 自然语言交互
   - 上下文理解
   - 多轮对话
   - 错误处理和友好提示

### 🚧 规划中功能

1. **订单支付**（可扩展）
2. **订单配送跟踪**（可扩展）
3. **会员系统**（可扩展）
4. **优惠券和活动**（可扩展）

---

## 用户体验特点

### 1. 自然语言交互
- 无需学习特定命令
- 像和真人客服对话一样自然
- 支持口语化表达

### 2. 智能理解
- 自动识别用户意图
- 理解上下文和指代关系
- 支持省略式表达

### 3. 专业准确
- 基于真实产品文档
- 回答准确、专业
- 价格和产品信息实时准确

### 4. 友好提示
- 参数不完整时主动询问
- 错误时给出友好提示
- 服务不可用时说明原因

### 5. 数据安全
- 用户只能查看和操作自己的订单
- 自动验证用户身份
- 数据持久化存储

---

## 使用方式

### Terminal 交互（当前实现）

```bash
python chat.py
```

然后直接输入问题，例如：
- "我要下单，一杯云边茉莉，少糖，正常冰"
- "查询我的历史订单"
- "云边茉莉的特点是什么？"

### 可扩展为其他形式

- Web 界面
- 微信小程序
- 移动 App
- API 接口

---

## 总结

从用户视角来看，这个系统是一个**智能客服助手**，可以帮助用户：

1. **了解产品**：咨询产品信息、价格、特点
2. **下单购买**：用自然语言下单，无需填写表单
3. **管理订单**：查询、修改、取消订单
4. **反馈建议**：提交反馈和投诉

**核心优势**：
- 🎯 自然语言交互，使用简单
- 🧠 智能理解，准确识别意图
- 📚 专业回答，基于真实知识库
- 🔒 安全可靠，数据隔离保护

用户体验就像和一个**专业的、友好的、24小时在线的客服**对话一样！

